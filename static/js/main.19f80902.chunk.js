(this["webpackJsonpaxels_first-task"]=this["webpackJsonpaxels_first-task"]||[]).push([[0],{224:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(0),a=n(27),i=n.n(a),o=n(36),s=n(24),u=n(18),l=n(48),j=n(113),d=n(12),b=n.n(d),m=n(17),f=n(23),h=n(73),p="https://boiling-refuge-66454.herokuapp.com",x=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/images")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/images/").concat(t)).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),g=n(10),v=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.a)(this,e),this.id=t.id||null,this.text=t.text||"",this.date=t.date||null},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.a)(this,e),this.id=t.id||"",this.url=t.url||"",this.comments=t.comments||[new v({})]},y=b.a.mark(V),k=b.a.mark(z),I=b.a.mark(F),D=b.a.mark(M),S=b.a.mark(P),C=b.a.mark(T),E={loading:!1,images:[],error:!1,imageDetails:new w},L=Object(l.b)({name:"images",initialState:E,reducers:{fetchImages:function(e,t){},fetchImageDetails:{reducer:function(e,t){},prepare:function(e){return{payload:{id:e}}}},addComment:{reducer:function(e,t){},prepare:function(e){return{payload:e}}},putImages:function(e,t){e.images=t.payload},putImageDetails:function(e,t){e.imageDetails=new w(t.payload)},putComment:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{imageDetails:Object(m.a)(Object(m.a)({},e.imageDetails),{},{comments:[].concat(Object(u.a)(e.imageDetails.comments),[t.payload])})})},setLoading:function(e,t){e.loaded=t.payload}}});function V(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(A,M);case 2:case"end":return e.stop()}}),y)}function z(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(B,(function(e){return P(e)}));case 2:case"end":return e.stop()}}),k)}function F(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(G,(function(e){return T(e)}));case 2:case"end":return e.stop()}}),I)}function M(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)(x);case 3:return e=t.sent,t.next=6,Object(f.c)(J(e));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),D,null,[[0,8]])}function P(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.c)(H(!0));case 3:return n.next=5,Object(f.b)((function(){return O(e.payload.id)}));case 5:return t=n.sent,n.next=8,Object(f.c)(N(t));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:return n.prev=13,n.next=16,Object(f.c)(H(!1));case 16:return n.finish(13);case 17:case"end":return n.stop()}}),S,null,[[0,10,13,17]])}function T(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.c)(_(e.payload));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),C,null,[[0,5]])}var q=L.actions,A=q.fetchImages,B=q.fetchImageDetails,G=q.addComment,J=q.putImages,N=q.putImageDetails,_=q.putComment,H=q.setLoading,K=L.reducer,Q=n(101),R=b.a.mark(U);function U(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([V(),z(),F()]);case 2:case"end":return e.stop()}}),R)}var W=Object(j.a)(),X=Object(Q.createLogger)(),Y=[].concat(Object(u.a)(Object(l.c)({thunk:!1})),[W,X]),Z=function(){var e=Object(l.a)({reducer:{imagesStore:K},middleware:Y});return W.run(U),e}(),$=n(11),ee=n(15),te=n(16);function ne(){var e=Object(ee.a)(["\n  margin-top: auto;\n  padding: 1.5rem;\n  margin-left: 2rem;\n  margin-right: 2rem;\n  border-top: 1px lightgray solid;\n  color: lightgray;\n  font-size: 1.3rem;\n"]);return ne=function(){return e},e}var re=te.a.footer(ne()),ce=function(){return Object(r.jsx)(re,{children:Object(r.jsx)("small",{children:"\xa9 2018-2019"})})};function ae(){var e=Object(ee.a)(["\n  padding: 1rem;\n  text-align: center;\n"]);return ae=function(){return e},e}var ie=te.a.header(ae()),oe=function(){return Object(r.jsx)(ie,{children:Object(r.jsx)("h1",{children:"TEST APP"})})};function se(){var e=Object(ee.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  width: 32px;\n  height: 32px;\n  z-index: 22;\n\n  :hover {\n    opacity: 1;\n    cursor: pointer;\n  }\n\n  :before, :after {\n    position: absolute;\n    left: 15px;\n    content: ' ';\n    height: 33px;\n    width: 2px;\n    background-color: #333;\n  }\n\n  :before {\n    transform: rotate(45deg);\n  }\n\n  :after {\n    transform: rotate(-45deg);\n  }\n"]);return se=function(){return e},e}var ue=te.a.div(se()),le=function(e){var t=e.onIconClick;return Object(r.jsx)(ue,{onClick:t})},je=n(232),de=n(234),be=n(112),me=n(61),fe=function(){var e=Object(s.b)(),t=Object(be.a)({initialValues:{name:"",text:""},validationSchema:me.a().shape({name:me.b().required("Enter your name").min(4,"Min length 4 charachters").max(15,"Max length 15 charachters").trim(),text:me.b().required("Enter comment text").max(150,"Max 150 characters")}),onSubmit:function(t){console.log(t),e(G(Object(m.a)(Object(m.a)({},t),{},{date:Date.now()})))}}),n=t.getFieldProps,c=t.handleSubmit,a=t.touched,i=t.errors;return Object(r.jsxs)(je.a,{noValidate:!0,onSubmit:c,children:[Object(r.jsxs)(je.a.Group,{controlId:"name",children:[Object(r.jsx)(je.a.Control,Object(m.a)(Object(m.a)({type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"},n("name")),{},{isValid:a.name&&!i.name,isInvalid:a.name&&i.name})),Object(r.jsx)(je.a.Control.Feedback,{type:"invalid",children:i.name})]}),Object(r.jsxs)(je.a.Group,{controlId:"comment",children:[Object(r.jsx)(je.a.Control,Object(m.a)(Object(m.a)({type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},n("text")),{},{isValid:a.text&&!i.text,isInvalid:a.text&&i.text})),Object(r.jsx)(je.a.Control.Feedback,{type:"invalid",children:i.text})]}),Object(r.jsx)(de.a,{variant:"primary",type:"submit",block:!0,children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})},he=n(233);function pe(){var e=Object(ee.a)(["\n  overflow-y: scroll;\n  overflow-x: hidden;\n\n  ::-webkit-scrollbar {\n    width: 0px;\n    background: transparent;\n  }\n"]);return pe=function(){return e},e}function xe(){var e=Object(ee.a)(["\n  border: none;\n  padding: 0 0 1rem 0;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(ee.a)(["\n  color: gray;\n"]);return Oe=function(){return e},e}function ge(){var e=Object(ee.a)(["\n  margin: 0;\n"]);return ge=function(){return e},e}var ve=te.a.p(ge()),we=te.a.time(Oe()),ye=Object(te.a)(he.a.Item)(xe()),ke=Object(te.a)(he.a)(pe()),Ie=function(e){var t=e.comments,n=function(e){return new Date(e.date).toLocaleDateString().split("/").join(".")};return Object(r.jsx)(ke,{children:t.map((function(e){return Object(r.jsxs)(ye,{children:[Object(r.jsx)(ve,{children:Object(r.jsxs)(we,{children:[" ",n(e)," "]})}),Object(r.jsx)(ve,{children:e.text})]},e.id)}))})},De=n(227);function Se(){var e=Object(ee.a)(["\n  margin: 2rem 0;\n  width: 100%;\n  background-color: red;\n"]);return Se=function(){return e},e}var Ce=Object(te.a)(De.a)(Se()),Ee=function(e){var t=e.url;return Object(r.jsx)(Ce,{src:t,alt:"photo",rounded:!0})},Le=n(39),Ve=n(231),ze=n(228),Fe=n(229),Me=n(110);function Pe(){var e=Object(ee.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 18rem;\n  @media (max-width: 767px) {\n    margin: -1rem -1rem 1rem -1rem;\n  }\n"]);return Pe=function(){return e},e}function Te(){var e=Object(ee.a)(["\n  > * {\n    margin-bottom: 2rem;\n  }\n"]);return Te=function(){return e},e}var qe=Object(te.a)(Me.a)(Te()),Ae=te.a.div(Pe()),Be=function(){var e=Object(c.useState)(!0),t=Object(Le.a)(e,2),n=t[0],a=t[1],i=Object($.h)().id,o=Object($.f)(),u=Object(s.b)(),l=Object(s.c)((function(e){return e.imagesStore.imageDetails})),j=Object(s.c)((function(e){return e.imagesStore.imageDetails.comments})),d=Object(s.c)((function(e){return e.imagesStore.loading}));if(!i)return null;var b=function(){a(!1),setTimeout((function(){return o.push("/gallery")}),300)};return Object(r.jsxs)(Ve.a,{show:n,onHide:function(e){return b()},size:"lg","aria-labelledby":"contained-modal-title-vcenter",onShow:function(){u(B(i))},centered:!0,children:[Object(r.jsx)(le,{onIconClick:b}),Object(r.jsx)(Ve.a.Body,{children:Object(r.jsxs)(ze.a,{children:[Object(r.jsx)(qe,{xs:12,md:7,children:Object(r.jsx)(Ae,{children:d?Object(r.jsx)(Fe.a,{animation:"border",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(r.jsx)(De.a,{src:l.url,fluid:!0})})}),Object(r.jsx)(qe,{xs:12,md:5,children:Object(r.jsx)(Ie,{comments:j})}),Object(r.jsx)(qe,{xs:12,md:7,children:Object(r.jsx)(fe,{})})]})})]})},Ge=n(230),Je=[{path:"/gallery",component:function(){var e=Object($.g)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.imagesStore.images}));return Object(c.useEffect)((function(){t(A())}),[t]),Object(r.jsx)("div",{children:Object(r.jsx)(Ge.a,{children:Object(r.jsx)(ze.a,{children:n.map((function(t){return Object(r.jsx)(Me.a,{xs:12,md:6,lg:4,xl:4,children:Object(r.jsx)(o.b,{to:{pathname:"/gallery/".concat(t.id),state:{background:e}},children:Object(r.jsx)(Ee,{url:t.url})})},t.id)}))})})})},exact:!0},{path:"*",component:function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"404"})})}}],Ne=function(e){return Object(r.jsx)($.a,{path:e.path,render:function(t){return Object(r.jsx)(e.component,Object(m.a)({},t))}})};function _e(){var e=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return _e=function(){return e},e}var He=te.a.div(_e()),Ke=(n(224),function(){var e=Object($.g)(),t=e.state&&e.state.background;return Object(r.jsxs)(He,{className:"App",children:[Object(r.jsx)(oe,{}),Object(r.jsxs)("main",{children:[Object(r.jsx)($.c,{location:t||e,children:Je.map((function(e,t){return Object(r.jsx)(Ne,Object(m.a)({},e),t)}))}),t&&Object(r.jsx)($.a,{path:"/gallery/:id",children:Object(r.jsx)(Be,{})})]}),Object(r.jsx)(ce,{})]})});i.a.render(Object(r.jsx)(o.a,{children:Object(r.jsx)(s.a,{store:Z,children:Object(r.jsx)(Ke,{})})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.19f80902.chunk.js.map